# セキュリティ

## Firestore セキュリティルール
- users: 本人のみ更新可能
- albums: オーナーのみ更新/削除可能
- albumImages: オーナーまたはフレンドが作成可能
- comments: オーナーまたはフレンドが作成可能
- likes: 本人のみ作成/削除可能
- friends: 本人または対象者が更新可能
- watches: 本人のみ作成/削除可能、自分自身は不可

## Storage セキュリティルール
- 認証ユーザーのみ書き込み可能
- 本人のディレクトリのみ書き込み可能
- 読み取りは公開

## レート制限（TODO）
- サーバー負荷軽減
- 悪意あるユーザーの防止
- 5分あたりのアクション数制限

## パスワードリセットの安全性
- メール受信者のみ変更可能
- 一度限りの有効期限付きトークン
- 中立メッセージで列挙攻撃を防止
- CAPTCHA とレート制限
